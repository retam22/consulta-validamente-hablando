<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Evaluaci√≥n Inicial - S√≠ntomas</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    
    <!-- Tipograf√≠a -->
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;700&family=Roboto:wght@300;400;700&display=swap" rel="stylesheet">

    <style>
        body {
            font-family: 'Poppins', sans-serif;
            background-color: #f3f4f6;
            margin: 0;
            padding: 0;
            scroll-behavior: smooth;
        }

        /* Mensaje superior */
        .top-banner {
            background-color: #4D4038;
            color: white;
            text-align: center;
            padding: 14px;
            font-size: 18px;
            font-weight: 500;
            width: 100%;
        }

        /* Hero Section */
        .hero-section {
            background-color: #F2E3C6;
            text-align: center;
            padding: 10px 20px;
        }

        /* Contenedor de s√≠ntomas */
        .sintomas-container {
            max-width: 1000px;
            margin: auto;
            padding: 15px;
            background: white;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
        }

        /* Texto de indicaci√≥n */
        .sintomas-container p {
            text-align: center;
            color: #4D4038;
            font-size: 10px;
            margin-bottom: 8px;
        }

        /* Lista de s√≠ntomas */
        .sintomas-lista {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 6px;
            padding: 15px;
        }

        .sintoma-item {
            display: flex;
            align-items: center;
            gap: 8px;
            padding: 5px;
            border-radius: 6px;
            background: #f8f8f8;
            cursor: pointer;
            transition: background 0.2s;
            font-size: 12px;
        }

        .sintoma-item:hover {
            background: #E8D9C1;
        }

        .sintoma-item input {
            width: 12px;
            height: 12px;
        }

        /* Campo de correo */
        .correo-container {
            text-align: center;
            margin-top: 10px;
        }

        .correo-container input {
            width: 80%;
            max-width: 400px;
            padding: 8px;
            font-size: 12px;
            border-radius: 6px;
            border: 1px solid #ccc;
            text-align: center;
        }

        /* Frase despu√©s del correo */
        .mensaje-contacto {
            text-align: center;
            color: #4D4038;
            font-size: 11px;
            margin-top: 11px;
        }

        /* Bot√≥n de continuar */
        .submit-button {
            text-align: center;
            margin-top: 10px;
        }

        .submit-button button {
            background-color: #4D4038;
            color: white;
            padding: 8px 20px;
            font-size: 12px;
            border-radius: 6px;
            border: none;
            cursor: pointer;
            transition: background 0.2s;
        }

        .submit-button button:hover {
            background: #A07D5A;
        }

        /* Adaptaciones para m√≥viles */
        @media (max-width: 768px) {
            .sintomas-lista {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>

    <!-- Frase destacada con el tama√±o corregido -->
    <div class="top-banner">
        Si te encuentras aqu√≠, ya diste un paso importante, podemos dar el siguiente juntos.
    </div>

    <!-- Secci√≥n Principal -->
    <div class="hero-section">
        <p>T√≥mate un momento para leer cada opci√≥n y marcar las que reflejen lo que has estado sintiendo. No hay respuestas correctas o incorrectas, esto es solo un primer paso para entender lo que est√° ocurriendo.</p>
    </div>

    <!-- Lista de s√≠ntomas -->
    <section class="sintomas-container">
        <div class="sintomas-lista">
            <label class="sintoma-item"><input type="checkbox" value="ansiedad"> Siento que mi ansiedad interfiere con mi vida diaria.</label>
            <label class="sintoma-item"><input type="checkbox" value="pensamientos"> Me cuesta manejar pensamientos repetitivos o preocupaciones constantes.</label>
            <label class="sintoma-item"><input type="checkbox" value="evitar"> Evito ciertas situaciones por miedo o incomodidad.</label>
            <label class="sintoma-item"><input type="checkbox" value="desmotivacion"> Me siento desmotivado/a gran parte del tiempo.</label>
            <label class="sintoma-item"><input type="checkbox" value="placer"> Tengo dificultades para disfrutar cosas que antes me gustaban.</label>
            <label class="sintoma-item"><input type="checkbox" value="actividades"> Me cuesta iniciar o sostener actividades diarias.</label>
            <label class="sintoma-item"><input type="checkbox" value="impulsos"> Tengo dificultades para controlar mis impulsos o emociones intensas.</label>
            <label class="sintoma-item"><input type="checkbox" value="reacciones"> A veces reacciono de manera extrema y no s√© por qu√©.</label>
            <label class="sintoma-item"><input type="checkbox" value="controlar"> Me cuesta regular mi comportamiento en momentos de estr√©s.</label>
            <label class="sintoma-item"><input type="checkbox" value="estres"> Siento que siempre estoy bajo presi√≥n o sobrecargado/a.</label>
            <label class="sintoma-item"><input type="checkbox" value="trabajo"> Tengo dificultades para desconectarme del trabajo o de mis preocupaciones.</label>
            <label class="sintoma-item"><input type="checkbox" value="sue√±o"> Me cuesta dormir o relajarme debido a la tensi√≥n acumulada.</label>
            <label class="sintoma-item"><input type="checkbox" value="alimentacion"> Me cuesta regular mi alimentaci√≥n en funci√≥n de mis emociones.</label>
            <label class="sintoma-item"><input type="checkbox" value="comer"> He tenido episodios donde siento que no puedo controlar lo que como.</label>
            <label class="sintoma-item"><input type="checkbox" value="imagen"> Me preocupa en exceso mi peso o mi imagen corporal.</label>
            <label class="sintoma-item"><input type="checkbox" value="miedos"> Hay situaciones espec√≠ficas que evito porque me generan mucho miedo.</label>
            <label class="sintoma-item"><input type="checkbox" value="limitado"> Mis miedos han limitado mi vida en algunas √°reas.</label>
            <label class="sintoma-item"><input type="checkbox" value="enfrentar"> No s√© c√≥mo enfrentar ciertos temores sin sentirme desbordado/a.</label>
            <label class="sintoma-item"><input type="checkbox" value="procrastinar"> Procrastino mucho y me cuesta mantener mis compromisos.</label>
            <label class="sintoma-item"><input type="checkbox" value="cambios"> Intento hacer cambios, pero me cuesta sostenerlos en el tiempo.</label>
            <label class="sintoma-item"><input type="checkbox" value="desmotivo"> Siento que me desmotivo f√°cilmente.</label>
        </div>
    </section>



    <!-- Campo para ingresar correo -->
    <div class="correo-container">
        <input type="email" id="correo" placeholder="Ingresa tu correo aqu√≠">
    </div>

    <!-- Frase despu√©s del correo -->
    <p class="mensaje-contacto">En la siguiente p√°gina podr√°s agendar la hora de evaluaci√≥n gratuita.</p>

    <!-- Bot√≥n de continuar -->
    <div class="submit-button">
        <button onclick="redirigirFormulario()">Continuar</button>
    </div>

  <script>
    function redirigirFormulario() {
        let correo = document.getElementById("correo").value;
        let urlCalendly = "https://calendly.com/validamentehablando/30min";
        let urlGoogleScript = "https://script.google.com/macros/s/AKfycby1d6dQXp-9Pr8czLlmkuWV2Rgc0UhPmUMHEDVf5SqCZQvPDlCVjP8HiG2Y8HtIZDoJ/exec"; // Reemplaza con tu nueva URL

        let regexCorreo = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;

        if (!correo.match(regexCorreo)) {
            alert("‚ùå Ingresa un correo electr√≥nico v√°lido antes de continuar.");
            return;
        }

        // Obtener los s√≠ntomas seleccionados
        let sintomasSeleccionados = [];
        document.querySelectorAll(".sintoma-item input:checked").forEach(input => {
            sintomasSeleccionados.push(input.parentElement.textContent.trim());
        });

        if (sintomasSeleccionados.length === 0) {
            alert("‚ö†Ô∏è Selecciona al menos un s√≠ntoma antes de continuar.");
            return;
        }

        console.log("‚úÖ Enviando correo y s√≠ntomas:", correo, sintomasSeleccionados.join(", "));

        // Enviar datos a Google Sheets
        let formData = new URLSearchParams();
        formData.append("correo", correo);
        formData.append("sintomas", sintomasSeleccionados.join(", "));

        fetch(urlGoogleScript, {
            method: "POST",
            headers: { "Content-Type": "application/x-www-form-urlencoded" },
            body: formData.toString()
        })
        .then(response => response.text())
        .then(data => {
            console.log("üì© Respuesta del servidor:", data);
            if (data.includes("OK")) {
                console.log("‚úÖ Correo y s√≠ntomas guardados correctamente.");
                window.location.href = urlCalendly;
            } else {
                alert("‚ö†Ô∏è Hubo un error al guardar los datos. Int√©ntalo nuevamente.");
                console.error("‚ö†Ô∏è Error en la respuesta del servidor:", data);
            }
        })
        .catch(error => {
            alert("üö® Error al enviar los datos. Int√©ntalo nuevamente.");
            console.error("üö® Error en fetch():", error);
        });
    }
</script>

</body>
</html>
