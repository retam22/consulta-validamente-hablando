<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Test DASS-21 - Evaluaci칩n de Salud Mental</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    
    <style>
        body {
            font-family: 'Poppins', sans-serif;
            background-color: #f3f4f6;
            margin: 0;
            padding: 20px;
            scroll-behavior: smooth;
        }

        .container {
            max-width: 600px;
            background: white;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0px 4px 10px rgba(0, 0, 0, 0.1);
        }

        .question {
            margin-bottom: 15px;
        }

        .result {
            display: none;
            padding: 15px;
            margin-top: 20px;
            border-radius: 5px;
        }

        .btn-primary {
            background-color: #A07D5A;
            border: none;
            padding: 10px;
            border-radius: 5px;
            cursor: pointer;
            width: 100%;
            margin-top: 10px;
        }

        .btn-primary:hover {
            background-color: #8C654A;
        }

    </style>
</head>
<body>

    <div class="container">
        <h2>Test DASS-21 - Evaluaci칩n de Salud Mental</h2>
        <p>Responde cada pregunta seleccionando la opci칩n que m치s se ajuste a tu experiencia en la 칰ltima semana.</p>

        <form id="dassForm">
            <div id="questions"></div>
            <button type="button" class="btn-primary" onclick="calcularResultados()">Calcular Resultados</button>
        </form>

        <div id="resultSection" class="result">
            <h3>Resultados</h3>
            <p id="resultMessage"></p>
            <a id="calendlyLink" href="https://calendly.com/validamentehablando/30min?back=1&month=2025-02" target="_blank" class="btn-primary">Agendar sesi칩n gratuita</a>
        </div>
    </div>

    <script>
        // Preguntas del DASS-21
        const preguntas = [
            "Sent칤 que estaba a punto de entrar en p치nico.",
            "No pude experimentar ning칰n sentimiento positivo.",
            "Sent칤 que no ten칤a nada por qu칠 esperar.",
            "Sent칤 que estaba usando mucha energ칤a nerviosa.",
            "Me sent칤 triste y deprimido/a.",
            "Me sent칤 intolerante con las cosas que me imped칤an continuar con lo que estaba haciendo.",
            "Sent칤 que estaba al borde del p치nico.",
            "No pude entusiasmarme con nada.",
            "Sent칤 que no val칤a nada como persona.",
            "Sent칤 que estaba bastante irritable.",
            "Sent칤 que estaba cerca de entrar en p치nico.",
            "Sent칤 que no ten칤a nada que esperar.",
            "Sent칤 que no pod칤a soportar nada m치s.",
            "Sent칤 que no pod칤a entusiasmarme con nada.",
            "Sent칤 que no val칤a nada.",
            "Sent칤 que estaba bastante irritable.",
            "Sent칤 que estaba cerca de entrar en p치nico.",
            "Sent칤 que no ten칤a nada que esperar.",
            "Sent칤 que no pod칤a soportar nada m치s.",
            "Sent칤 que no pod칤a entusiasmarme con nada.",
            "Sent칤 que no val칤a nada."
        ];

        // Renderizar preguntas
        const questionContainer = document.getElementById("questions");
        preguntas.forEach((pregunta, index) => {
            const div = document.createElement("div");
            div.classList.add("question");
            div.innerHTML = `
                <p>${index + 1}. ${pregunta}</p>
                <select id="q${index}" class="form-select">
                    <option value="0">0 - No me aplic칩 en absoluto</option>
                    <option value="1">1 - Me aplic칩 un poco</option>
                    <option value="2">2 - Me aplic칩 bastante</option>
                    <option value="3">3 - Me aplic칩 mucho</option>
                </select>
            `;
            questionContainer.appendChild(div);
        });

        function calcularResultados() {
            let dep = 0, anx = 0, str = 0;

            for (let i = 0; i < 21; i++) {
                let value = parseInt(document.getElementById(`q${i}`).value);
                if ([0, 2, 4, 8, 12, 14, 18, 20].includes(i)) dep += value; 
                if ([1, 5, 6, 10, 11, 15, 16, 19].includes(i)) anx += value; 
                if ([3, 7, 9, 13, 17].includes(i)) str += value;
            }

            let mensaje = "";
            let urlCalendly = "https://calendly.com/validamentehablando/30min?back=1&month=2025-02";

            function evaluarNivel(valor, categoria) {
                if (valor >= 28) return `Tu nivel de ${categoria} es muy alto. Te recomendamos buscar apoyo profesional lo antes posible.`;
                if (valor >= 21) return `Tienes un nivel alto de ${categoria}, lo que puede estar afectando tu vida diaria.`;
                if (valor >= 14) return `Tus resultados indican un nivel moderado de ${categoria}. Es importante trabajar en estrategias de manejo.`;
                if (valor >= 10) return `Tu nivel de ${categoria} es leve. Es recomendable aplicar t칠cnicas de relajaci칩n.`;
                return `Tu nivel de ${categoria} es normal. Contin칰a cuidando tu bienestar emocional.`;
            }

            mensaje += evaluarNivel(dep, "depresi칩n") + "<br>";
            mensaje += evaluarNivel(anx, "ansiedad") + "<br>";
            mensaje += evaluarNivel(str, "estr칠s") + "<br>";

            if (dep >= 14 || anx >= 10 || str >= 15) {
                mensaje += `<br>游눠 Si quieres orientaci칩n profesional, puedes reservar una consulta gratuita conmigo.`;
            }

            document.getElementById("resultMessage").innerHTML = mensaje;
            document.getElementById("resultSection").style.display = "block";
            document.getElementById("calendlyLink").href = urlCalendly;
        }
    </script>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
